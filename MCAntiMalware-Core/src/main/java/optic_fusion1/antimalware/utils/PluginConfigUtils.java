package optic_fusion1.antimalware.utils;

import java.util.Arrays;
import java.util.List;
import java.util.regex.Pattern;

public final class PluginConfigUtils {

    private static final Pattern AUTHOR_PATTERN = Pattern.compile("(authors?).*: *(.*)");

    private PluginConfigUtils() {

    }

    public static List<String> getAuthors(String yml) {
        var matcher = AUTHOR_PATTERN.matcher(yml);
        if (!matcher.find()) return List.of();

        var key = matcher.group(1);
        if (key.charAt(key.length() - 1) != 's') return List.of(matcher.group(2));

        var authors = matcher.group(2);
        if (!authors.isEmpty()) {
            authors = authors.substring(1, authors.length() - 1);
        }

        return Arrays.asList(authors.split(", ?"));
    }

}
